
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  PARSING REGULAR TEXT
%  - take care about line ends, paragraphs and special 
%    marks as §1: §2: §R1: §R2:
%
% inputsong - process given song file
%

\def\inputsong#1{%
  \catcode`\^^M=12% we ar looking for first N:
  \expandafter\getheader\input #1 %
}  
% getheader - reads 5 header fields, call formating macro, 
%             starts environment for text of the song  
%
{\catcode`\^^M=12%
\gdef\getheader#1^^M{%
}}

\tracingmacros=2
\tracingcommands=2
\tracingrestores=1

\catcode`\^^M=12 % we ar looking for first N:
\expandafter\getheader\input Amazonka.sng %
%\inputsong{Amazonka.sng}

\bye




